# 可解釋模型與黑箱模型在三高風險預測的實證比較
## An Empirical Comparison of Interpretable and Black-box Models for Predicting Hypertension, Hyperglycemia, and Dyslipidemia

## 簡報時間分配表（Meeting 16 精簡版）

| 段落 | 內容 | 時間 | 投影片數 |
|------|------|------|----------|
| 1. 封面 | 標題、研究核心問題 | 20秒 | 1張 |
| 2. 研究背景與AI優勢 | CVD問題 + AI解決方案 | 1分鐘 | 1張 |
| 3. 研究數據 | SUA資料集、Synthea驗證集 | 40秒 | 1張 |
| 4. 研究方法 | 5種機器學習演算法 | 50秒 | 1張 |
| 5. 研究優點與限制 | 核心優點與主要限制 | 1分鐘 | 1張 |
| 6. 研究心得與未來方向 | 研究動機、發現、規劃 | 1分鐘 | 1張 |
| 7. 結論 | 總結、研究規劃 | 30秒 | 1張 |
| 8. Q&A | 問答 | 依情況 | 1張 |
| **總計** | | **約5分鐘** | **8張** |

---

## 投影片 1：封面

**主標題：**
```
可解釋模型與黑箱模型在三高風險預測的實證比較

An Empirical Comparison of Interpretable and Black-box Models
for Predicting Hypertension, Hyperglycemia, and Dyslipidemia
```

**報告資訊：**
- 課堂教授：蕭瑛東 教授
- 報告人：紀伯喬 21138X006
- Meeting 16 進度報告

---

### **研究核心問題**

💡 **是否必須犧牲準確率來換取可解釋性？**

**比較維度：**
- ✅ **預測準確率** - 哪種模型預測三高最準確？
- ✅ **模型可解釋性** - 醫師能否理解AI的判斷依據？
- ✅ **計算效率** - 訓練與預測時間差異（深度學習 vs 傳統方法）

**模型類別：**
- 可解釋模型：Logistic Regression, Genetic Programming（待加入）
- 黑箱模型：Random Forest, SVM, XGBoost, Deep Neural Network

### 📝 講稿 ⏱️ 20秒

各位老師、同學大家好，我是紀伯喬。

今天 Meeting 16 要報告的主題是「可解釋模型與黑箱模型在三高風險預測的實證比較」。

本研究的核心問題是：是否必須犧牲準確率來換取可解釋性？我們將從預測準確率、模型可解釋性、以及計算效率三個維度，比較傳統機器學習、深度學習、以及演化計算等不同類型的模型。

---

## 投影片 2：研究背景與AI優勢

### 研究背景
💔 **心血管疾病（CVD）是全球首要死因**
- 每年奪走超過1,790萬人生命（占全球死亡31%）

⚠️ **傳統診斷方法的限制**
- 心導管、ECG、心臟超音波、CT
- 問題：成本高、耗時、不適合大規模篩檢

---

### AI + 血液檢測的優勢

✅ **成本低廉** - 常規血液檢查，適合大規模篩檢

✅ **早期發現** - 無症狀階段即可檢測

✅ **高準確率** - AI分析複雜生物標記模式

### 📝 講稿 ⏱️ 1分鐘

首先來看研究背景。

心血管疾病是全球首要死因，每年奪走超過1,790萬人生命，占全球死亡人數的31%。傳統的診斷方法像是心導管檢查、心電圖、心臟超音波，都有成本高、耗時長、不適合大規模篩檢的問題。

因此，我們需要更好的解決方案。AI加上血液檢測有三大優勢：成本低廉、早期發現、高準確率。僅需常規血液檢查就能在無症狀階段檢測，適合大規模人群篩檢。

---

## 投影片 3：研究數據

### **主要資料集（SUA Dataset）**
- **來源**：中國縱貫性三高追蹤研究
- **樣本數**：25,744 筆追蹤記錄
- **變數**：11 個常規檢測指標
  - 基本資料：性別、年齡、BMI
  - 血壓：收縮壓、舒張壓
  - 代謝：空腹血糖、總膽固醇、尿酸
  - 腎功能：肌酸酐、腎絲球過濾率

### **預測目標（三高）**
✅ 高血壓 | ✅ 高血糖 | ✅ 高血脂

### **外部驗證資料集（Synthea）**
- **來源**：加拿大合成病患資料
- **樣本數**：1,163 位病患
- **用途**：驗證模型泛化能力
- ⚠️ **限制**：缺少尿酸（UA）數據
  - Synthea 基於美國醫療系統，尿酸非常規檢測項目
  - 驗證時使用其他 10 個指標進行預測

### 📝 講稿 ⏱️ 40秒

我們使用兩個資料集。

主要資料集來自中國的三高追蹤研究，共25,744筆記錄，包含11個常規檢測指標，預測三高疾病：高血壓、高血糖、高血脂。

另外使用加拿大Synthea資料集，1,163位病患，做外部驗證。需要特別說明的是，Synthea資料集缺少尿酸數據，因為在美國醫療系統中，尿酸並非常規檢測項目。因此外部驗證時，我們使用其他10個指標來評估模型的泛化能力。

---

## 投影片 4：機器學習方法

### **模型分類：從線性到非線性**

**📊 線性關係模型（1個）**
- **Logistic Regression**
  - 線性組合 + Sigmoid 轉換
  - 天生可解釋，可直接查看係數

**🌳 非線性關係 - 樹模型（2個）**
- **Random Forest**
  - 決策樹集成，可捕捉 U型關係、交互作用
- **XGBoost** ⭐
  - 梯度提升樹，準確率通常最高

**🔬 非線性關係 - 核函數與深度學習（2個）**
- **SVM (RBF Kernel)**
  - 核函數映射至高維空間
- **Deep Neural Network**
  - 多層神經網路，複雜非線性轉換

**🧬 非線性關係 - 演化計算（待加入）**
- **Genetic Programming**
  - 演化出非線性公式（x², log(x), 交互項等）

---

### **模型可解釋性策略**
- **天生可解釋**：Logistic Regression
  - 可直接查看公式與係數
- **黑箱模型 + SHAP 事後解釋**：RF, XGBoost, SVM, DNN
  - 模型內部決策邏輯無法直接理解
  - 透過 SHAP 計算特徵重要性，反推風險評估依據

### **模型評估指標**
- **AUC**：模型區分能力（ROC曲線下面積）
- **準確率、靈敏度、特異度、F1分數**
- **訓練時間**：評估計算效率

### 📝 講稿 ⏱️ 50秒

我們從風險與特徵的關係角度，比較五種機器學習方法。

首先是線性關係模型，使用Logistic Regression，它假設特徵與風險是線性關係，天生可解釋。

接著是非線性樹模型，包含Random Forest和XGBoost。這類模型可以自動捕捉U型關係、交互作用、以及閾值效應等複雜模式。

第三類是核函數與深度學習，包含SVM和深度神經網路，能建模更複雜的非線性關係。

未來還會加入Genetic Programming，它能演化出包含平方、對數等非線性公式。

對於樹模型、SVM、深度學習這些黑箱模型，雖然無法直接理解內部決策邏輯，但我們可以透過SHAP工具，計算每個特徵對風險預測的貢獻度，反推出風險評估的依據。評估指標包含AUC、準確率、以及訓練時間。

---

## 投影片 5：研究優點與限制

### **核心優點**

✅ **大樣本縱貫性研究** - 25,744筆記錄提供充分統計效力

✅ **多演算法系統性比較** - 5種機器學習方法客觀比較

✅ **外部驗證確保泛化** - 加拿大資料證實跨人群適用性

✅ **臨床可行性高** - 僅需11個常規檢測指標，成本低廉

✅ **模型可解釋性** - SHAP分析提供特徵重要性

---

### **主要限制**

⚠️ **資料地域性** - 來自中國單一研究，需更多跨國驗證

⚠️ **回顧性設計** - 無法證明因果關係

⚠️ **變數有限** - 缺乏生活習慣（飲食、運動）與家族病史

⚠️ **時間處理** - 縱貫資料時間間隔不一致需謹慎處理

### 📝 講稿 ⏱️ 1分鐘

本研究有五大優點：大樣本縱貫性研究、系統性比較五種演算法、使用外部資料驗證模型泛化能力、臨床可行性高只需常規檢測、提供SHAP可解釋性分析。

主要限制有四個：第一，資料來源有地域性，需更多跨國驗證。第二，回顧性設計無法證明因果關係。第三，變數有限，缺乏生活習慣和家族病史資料。第四，縱貫資料的時間處理較複雜。

---

## 投影片 6：研究心得與未來方向

### **研究動機與核心發現**

💡 **關鍵問題**：是否必須犧牲準確率來換取可解釋性？

⚡ **核心發現**
- 透過SHAP分析，黑箱模型也能變得可解釋
- **不必在「準確率」與「可解釋性」之間二選一**

---

### **未來研究方向**

🏥 **多中心驗證** - 評估模型泛化能力

📊 **前瞻性研究** - 評估預測未來發病能力

🔬 **多模態整合** - 結合影像、心電圖、基因資訊

💻 **臨床決策系統** - 開發AI輔助診斷軟體

🎯 **個人化預測** - 精準風險評估與預防策略

---

### **個人研究規劃**
- 比較Genetic Programming與其他演算法
- 探討時間序列建模（利用縱貫資料）
- 研究模型在台灣本土資料的適用性

### 📝 講稿 ⏱️ 1分鐘

我的研究動機是探討：是否必須犧牲準確率來換取可解釋性？

透過文獻閱讀發現，雖然黑箱模型無法像Logistic Regression一樣完全透明，但透過SHAP分析，可以提供足夠的可解釋性（知道哪些特徵最重要、如何影響預測），同時保持高準確率。這在臨床應用中是一個實用的折衷方案。

未來發展方向包含五個面向：多中心驗證、前瞻性研究、多模態資料整合、臨床決策系統開發、以及個人化風險預測。

我的研究規劃是加入Genetic Programming比較、探討時間序列建模，並研究在台灣本土資料的適用性。

---

## 投影片 7：結論

### **研究總結**

**文獻閱讀總結：**
- ✅ AI + 血液檢測可有效預測心血管與代謝疾病
- ✅ 黑箱模型（XGBoost, DNN）準確率高但無法完全透明
- ✅ SHAP 提供事後解釋，可知道特徵重要性與影響方向
- ✅ 外部驗證對確保模型泛化能力至關重要

**核心啟發：**
在追求高準確率與完全透明之間，SHAP 提供了實用的折衷方案

**研究價值：**
- 成本低廉，適合大規模篩檢
- 可解釋性提升臨床信任度
- 為精準醫療提供新方向

**個人研究規劃：**
- 📊 比較線性 vs 非線性模型在三高預測的表現
- 🔬 探索Genetic Programming的應用潛力
- 🌏 使用台灣本土或跨國資料進行驗證
- 💡 評估「準確率提升」與「可解釋性降低」的權衡

### 📝 講稿 ⏱️ 30秒

總結本研究。

透過文獻閱讀，我們發現AI結合血液檢測在疾病預測展現巨大潛力。核心啟發是：黑箱模型雖然無法完全透明，但透過SHAP分析，可以提供足夠的可解釋性，同時保持高準確率，這在臨床應用中是實用的折衷方案。

我的研究規劃是比較線性與非線性模型在三高預測的表現，探索Genetic Programming的應用，並評估準確率提升與可解釋性降低之間的權衡。

感謝聆聽。

---

## 投影片 8：Q&A

```
感謝聆聽

Questions & Answers

有任何問題歡迎提問
```

**可能的問題準備：**

**Q1: 為什麼要比較可解釋模型與黑箱模型？**
A: 臨床應用需要平衡準確率與可解釋性。透過比較可以了解：1) 是否必須犧牲準確率來換取可解釋性？2) SHAP能否讓黑箱模型變得可解釋？3) 哪種模型最適合臨床應用？

**Q2: 外部驗證資料集為什麼選擇Synthea？**
A: Synthea是標準化的合成病患資料，具有完整的三高診斷與生物標記。雖然是合成資料，但模擬真實醫療場景，適合驗證模型泛化能力。未來應加入真實的跨國資料驗證。

**Q3: 研究預期成果是什麼？**
A: 主要目標是回答：1) 可解釋模型與黑箱模型在三高預測的準確率差異多大？2) SHAP分析能否有效解釋黑箱模型？3) 哪種模型最適合臨床應用？4) 模型在不同人群的泛化能力如何？

### 📝 講稿 ⏱️ 依情況

（準備回答問題）

---

## 附錄：完整 Q&A 準備

### Q1: 為什麼要比較可解釋模型與黑箱模型？

**A:** 臨床應用需要平衡準確率與可解釋性。透過比較可以了解：

1. 是否必須犧牲準確率來換取可解釋性？
2. SHAP能否讓黑箱模型變得可解釋？
3. 哪種模型最適合臨床應用？

這是本研究的核心問題。

---

### Q2: 外部驗證資料集為什麼選擇Synthea？

**A:** Synthea是標準化的合成病患資料，具有完整的三高診斷與生物標記。雖然是合成資料，但它模擬真實醫療場景，適合驗證模型泛化能力。未來應該加入真實的跨國資料進行更嚴格的驗證。

---

### Q3: 這是你的論文研究嗎？

**A:** 這是基於文獻閱讀的研究規劃報告。實際的模型訓練和實驗還在進行中，目前是 Meeting 16 的進度報告。

---

### Q4: 研究預期成果是什麼？

**A:** 主要目標是回答幾個問題：

1. 可解釋模型與黑箱模型在三高預測的準確率差異有多大？
2. SHAP分析能否有效解釋黑箱模型的決策過程？
3. 哪種模型最適合臨床應用？
4. 模型在不同人群的泛化能力如何？

---

### Q5: 為什麼要加入Genetic Programming？

**A:** Genetic Programming有幾個特點：

1. 它是演化式演算法，透過模擬自然選擇來優化模型
2. 可能發現傳統方法難以捕捉的特徵組合模式
3. 具有一定可解釋性，可以視覺化演化出的決策樹
4. 在一些醫療預測研究中表現優異

這是想探索的一個新方向。

---

### Q6: 縱貫資料如何處理？

**A:** SUA資料集包含多次追蹤測量，可以用兩種方式處理：

**方式一：橫斷面分析**
- 使用最新一次測量預測當前疾病狀態
- 比較簡單，適合初步研究

**方式二：時間序列分析**
- 利用歷史測量趨勢預測未來發病風險
- 更複雜，但更有臨床價值
- 這是未來研究的重要方向

---

### Q7: 如何確保模型在台灣人群有效？

**A:** 這是很重要的問題。目前資料來自中國和加拿大，要應用到台灣需要：

1. 使用台灣本土資料進行驗證（例如健保資料庫）
2. 比較不同人群的模型表現差異
3. 必要時針對台灣人群重新訓練或微調模型
4. 評估飲食、生活習慣等本土化因素的影響

這是未來研究規劃的一部分。

---

### Q8: SHAP分析是什麼？

**A:** SHAP是「SHapley Additive exPlanations」的縮寫，來自博弈論的夏普利值概念。

**簡單來說**：
- 它計算每個特徵對預測結果的貢獻度
- 回答「如果沒有這個特徵，模型預測會改變多少？」
- 可以解釋黑箱模型為什麼做出某個判斷

**例如**：模型預測某病患有高血壓風險85%，SHAP分析可能顯示：
- 收縮壓偏高 → 貢獻 +30%
- 年齡較大 → 貢獻 +25%
- BMI偏高 → 貢獻 +15%

這讓醫師能理解AI的判斷依據。

---

### Q9: 這個研究有什麼臨床應用價值？

**A:** 主要有三方面價值：

**1. 成本效益**
- 常規血液檢測成本遠低於影像檢查
- 適合大規模人群篩檢
- 可用於基層診所、健檢中心

**2. 早期發現**
- 在無症狀階段就能發現風險
- 提早介入，預防疾病發生
- 降低醫療支出

**3. 提升信任度**
- SHAP分析讓醫師理解AI判斷
- 增加臨床採用意願
- AI輔助而非取代醫師

---

### Q10: 11個變數會不會太少？

**A:** 這是很好的觀察。11個變數確實不多，但：

**優點**：
- 都是常規檢測項目，容易取得
- 降低資料收集成本
- 提高模型的實用性

**限制**：
- 缺乏生活習慣資料（飲食、運動、吸菸）
- 缺乏家族病史
- 可能影響預測準確性

**未來改進**：
- 整合更多資料來源
- 加入穿戴裝置數據
- 納入基因資訊

這也是研究限制的一部分。

---

**📝 講稿使用提示**：
- ⏱️ 總時長約5分鐘，適合 Meeting 進度報告
- 重點在於研究規劃與核心發現
- Q&A部分建議事前熟讀，臨場應變會更從容
- 保持自然，不要死背講稿

---

**製作日期：** 2025-11-05
**版本：** Meeting 16 精簡版（8頁）
**報告人：** 紀伯喬 (21138X006)
**指導教授：** 蕭瑛東 教授
